<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Auth{% endblock %} - BlastPro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
    <style>body{font-family:'Plus Jakarta Sans',sans-serif;}</style>
</head>
<body class="bg-gray-50 h-screen flex overflow-hidden">

    <!-- LEFT SIDE (GAMBAR) -->
    <div class="hidden lg:flex w-1/2 bg-indigo-600 relative items-center justify-center text-white p-12 overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-indigo-600 to-purple-700 opacity-90 z-10"></div>
        <img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?q=80&w=1974&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover grayscale mix-blend-multiply" alt="Background">
        
        <div class="relative z-20 text-center max-w-lg">
            <div class="mb-8 inline-block p-4 bg-white/10 rounded-2xl backdrop-blur-sm border border-white/20">
                <i class="fa-solid fa-rocket text-5xl text-yellow-400"></i>
            </div>
            <h1 class="text-4xl font-bold mb-4">Otomatisasi Tanpa Batas</h1>
            <p class="text-lg text-indigo-100 leading-relaxed">
                Bergabung dengan ribuan UMKM lain yang sukses bersama BlastPro.
            </p>
        </div>
    </div>

    <!-- RIGHT SIDE (FORM) -->
    <div class="w-full lg:w-1/2 flex flex-col justify-center items-center p-8 overflow-y-auto bg-white relative">
        <!-- Logo Mobile -->
        <div class="lg:hidden absolute top-6 left-6 text-indigo-600 font-bold text-xl">
            <i class="fa-solid fa-rocket mr-2"></i> BlastPro
        </div>

        <div class="w-full max-w-md relative z-10"> <!-- z-10 disini penting -->
            
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="mb-6 p-4 rounded-lg flex items-start gap-3 {{ 'bg-red-50 text-red-600' if category == 'danger' else 'bg-green-50 text-green-600' }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <!-- Inject Konten Login/Register Disini -->
            {% block auth_content %}{% endblock %}

            <div class="mt-8 pt-6 border-t border-gray-100 text-center text-xs text-gray-400">
                &copy; 2026 Baba Automation. Secured & Encrypted.
            </div>
        </div>
    </div>

    <script>
        function togglePassword(inputId, iconId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(iconId);
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = "password";
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }
    </script>
</body>
</html>
