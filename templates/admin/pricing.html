{% extends "admin/base.html" %}
{% block title %}Pricing Manager{% endblock %}

{% block content %}
<div class="mb-8 flex justify-between items-center">
    <div>
        <h1 class="text-2xl font-bold text-white">ðŸ’° Pricing Strategy</h1>
        <p class="text-slate-400 text-sm">Atur harga paket yang tampil di Landing Page & Payment.</p>
    </div>
</div>

<div class="grid grid-cols-1 gap-6">
    {% for plan in plans %}
    <div class="bg-slate-800/50 rounded-xl border border-slate-700 overflow-hidden">
        <div class="p-4 bg-slate-900/50 border-b border-slate-700 flex justify-between items-center">
            <h3 class="font-bold text-lg text-white flex items-center gap-2">
                <span class="w-2 h-6 bg-indigo-500 rounded-full"></span>
                {{ plan.display_name }} <span class="text-xs text-slate-500 font-mono">({{ plan.code_name }})</span>
            </h3>
        </div>
        
        <div class="overflow-x-auto">
            <table class="w-full text-left text-sm text-slate-300">
                <thead class="bg-slate-900/30 text-slate-500 uppercase text-xs">
                    <tr>
                        <th class="px-6 py-3">Durasi</th>
                        <th class="px-6 py-3">Harga Database (Raw)</th>
                        <th class="px-6 py-3">Tampilan User (Text)</th>
                        <th class="px-6 py-3 text-right">Aksi</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-slate-700/50">
                    {% for var in plan.pricing_variants %}
                    <form action="/super-admin/pricing" method="POST">
                        <input type="hidden" name="id" value="{{ var.id }}">
                        <tr class="hover:bg-slate-700/20 transition">
                            <td class="px-6 py-3 font-bold text-white">{{ var.duration_days }} Hari</td>
                            <td class="px-6 py-3">
                                <input type="number" name="price_raw" value="{{ var.price_raw }}" class="w-32 bg-slate-900 border border-slate-600 rounded px-2 py-1 text-xs focus:border-indigo-500 focus:outline-none text-white font-mono">
                            </td>
                            <td class="px-6 py-3">
                                <input type="text" name="price_display" value="{{ var.price_display }}" class="w-24 bg-slate-900 border border-slate-600 rounded px-2 py-1 text-xs font-bold text-indigo-400 focus:border-indigo-500 focus:outline-none">
                            </td>
                            <td class="px-6 py-3 text-right">
                                <button type="submit" class="bg-indigo-600 hover:bg-indigo-500 text-white font-bold text-xs px-3 py-1.5 rounded transition shadow-lg shadow-indigo-500/20">
                                    Update
                                </button>
                            </td>
                        </tr>
                    </form>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
